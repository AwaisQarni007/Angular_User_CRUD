{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/toast.service\";\nimport * as i2 from \"../services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../edit-user-modal/edit-user-modal.component\";\nfunction UsersComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"h6\");\n    i0.ɵɵtext(5, \"User Name : \");\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h6\", 8);\n    i0.ɵɵtext(10, \"Email: \");\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 9)(15, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_2_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const user_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.setSelectedUserId(user_r2.id));\n    });\n    i0.ɵɵtext(16, \" Edit User \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_2_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const user_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteUser(user_r2.id));\n    });\n    i0.ɵɵtext(18, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", user_r2.profilePictureUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(user_r2.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(user_r2.email);\n  }\n}\nfunction UsersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_3_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.loadMore());\n    });\n    i0.ɵɵtext(3, \"Load More\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nclass UsersComponent {\n  constructor(toast, userService) {\n    this.toast = toast;\n    this.userService = userService;\n    this.users = [];\n    this.visibleUsers = [];\n    this.itemsPerRow = 4;\n    this.itemsPerPage = 8;\n    this.currentPage = 0;\n    this.showLoadMoreButton = true; // Variable to track whether to show the \"Load More\" button\n  }\n\n  ngOnInit() {\n    this.userService.getUsers().subscribe(users => {\n      this.users = users;\n      this.loadMore();\n    });\n  }\n  loadMore() {\n    const startIndex = this.currentPage * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    const newUsers = this.users.slice(startIndex, endIndex);\n    if (newUsers.length === 0) {\n      // No more records to load, show a toast message\n      this.toast.showToast('No more records to load.', 'Alert', 'warning');\n      this.showLoadMoreButton = false; // Hide the \"Load More\" button\n    } else {\n      this.visibleUsers.push(...newUsers);\n      this.currentPage++;\n    }\n  }\n  setSelectedUserId(user) {\n    localStorage.setItem(\"selectedUser\", user);\n  }\n  deleteUser(userId) {\n    this.userService.deleteUser(userId).subscribe(response => {});\n  }\n}\n_class = UsersComponent;\n_class.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ToastService), i0.ɵɵdirectiveInject(i2.UserService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-users\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"col-md-3 mb-3 card-container\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row mt-3\", 4, \"ngIf\"], [1, \"col-md-3\", \"mb-3\", \"card-container\"], [1, \"card\", \"mx-2\", 2, \"width\", \"18rem\"], [1, \"mx-auto\", \"card-img-top\", \"w-50\", 3, \"src\"], [1, \"card-body\"], [1, \"card-text\"], [1, \"text-right\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editUserModal\", 1, \"btn\", \"btn-primary\", \"mr-2\", 3, \"click\"], [1, \"btn\", \"btn-danger\", \"mx-2\", 3, \"click\"], [1, \"row\", \"mt-3\"], [1, \"col-md-12\", \"text-center\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, UsersComponent_div_2_Template, 19, 3, \"div\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(3, UsersComponent_div_3_Template, 4, 0, \"div\", 3);\n      i0.ɵɵelement(4, \"app-edit-user-modal\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.visibleUsers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showLoadMoreButton);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.EditUserModalComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { UsersComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UsersComponent_div_2_Template_button_click_15_listener","restoredCtx","ɵɵrestoreView","_r4","user_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","setSelectedUserId","id","UsersComponent_div_2_Template_button_click_17_listener","ctx_r5","deleteUser","ɵɵadvance","ɵɵproperty","profilePictureUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","email","UsersComponent_div_3_Template_button_click_2_listener","_r7","ctx_r6","loadMore","UsersComponent","constructor","toast","userService","users","visibleUsers","itemsPerRow","itemsPerPage","currentPage","showLoadMoreButton","ngOnInit","getUsers","subscribe","startIndex","endIndex","newUsers","slice","length","showToast","push","user","localStorage","setItem","userId","response","ɵɵdirectiveInject","i1","ToastService","i2","UserService","selectors","decls","vars","consts","template","UsersComponent_Template","rf","ctx","ɵɵtemplate","UsersComponent_div_2_Template","UsersComponent_div_3_Template"],"sources":["C:\\Users\\PC\\Desktop\\Angular Demo\\angular\\src\\app\\users\\users.component.ts","C:\\Users\\PC\\Desktop\\Angular Demo\\angular\\src\\app\\users\\users.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../services/user.service';\nimport { ToastService } from '../service/toast.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n  users: any[] = [];\n  visibleUsers: any[] = [];\n  itemsPerRow = 4;\n  itemsPerPage = 8;\n  currentPage = 0;\n  showLoadMoreButton = true; // Variable to track whether to show the \"Load More\" button\n\n  constructor(private toast: ToastService, private userService: UserService) { }\n\n  ngOnInit() {\n    this.userService.getUsers().subscribe(users => {\n      this.users = users;\n      this.loadMore();\n    });\n  }\n\n  loadMore() {\n    const startIndex = this.currentPage * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    const newUsers = this.users.slice(startIndex, endIndex);\n    \n    if (newUsers.length === 0) {\n      // No more records to load, show a toast message\n      this.toast.showToast('No more records to load.', 'Alert', 'warning');\n\n      this.showLoadMoreButton = false; // Hide the \"Load More\" button\n    } else {\n      this.visibleUsers.push(...newUsers);\n      this.currentPage++;\n    }\n  }\n\n\n  setSelectedUserId(user: any) {\n    localStorage.setItem(\"selectedUser\", user);\n  }\n  deleteUser(userId: number) {\n    this.userService.deleteUser(userId).subscribe(response => {\n    });\n  }\n}\n","<div class=\"container\">\n\n    <div class=\"row \">\n        <div *ngFor=\"let user of visibleUsers\" class=\"col-md-3 mb-3 card-container\">\n            <div class=\"card mx-2\" style=\"width: 18rem;\">\n                <img [src]=\"user.profilePictureUrl\" class=\"mx-auto card-img-top w-50\">\n                <div class=\"card-body\">\n                    <h6>User Name : <br /></h6>\n                    <p>{{ user.name }}</p>\n                    <h6 class=\"card-text\">Email: <br /> </h6>\n                    <p>{{ user.email }}</p>\n                    <div class=\"text-right\">\n                        <button type=\"button\" class=\"btn btn-primary mr-2\" data-bs-toggle=\"modal\"\n                            data-bs-target=\"#editUserModal\" (click)=\"setSelectedUserId(user.id)\">\n                            Edit User\n                        </button>\n                        <button class=\"btn btn-danger mx-2\" (click)=\"deleteUser(user.id)\">Delete</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"row mt-3\" *ngIf=\"showLoadMoreButton\">\n    <div class=\"col-md-12 text-center\">\n        <button class=\"btn btn-primary\" (click)=\"loadMore()\">Load More</button>\n    </div>\n</div>\n<app-edit-user-modal></app-edit-user-modal>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}