{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet EditUserModalComponent = class EditUserModalComponent {\n  constructor(route, toast, userService, renderer, el, router) {\n    this.route = route;\n    this.toast = toast;\n    this.userService = userService;\n    this.renderer = renderer;\n    this.el = el;\n    this.router = router;\n    this.userId = localStorage.getItem('selectedUser');\n    this.user = {\n      name: '',\n      email: '',\n      profilePictureUrl: ''\n    };\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const userId = params['id'];\n    });\n    this.userId = localStorage.getItem('selectedUser');\n    console.log(\"User id : \", this.user);\n    // Fetch user data by ID when the component initializes\n    this.userService.getUserById(this.userId).subscribe(user => {\n      this.user = user[0];\n      console.log(\"Edit Modal : \", this.user[0]);\n    });\n  }\n  updateUser() {\n    this.userService.updateUser(this.user).subscribe(response => {\n      this.toast.showToast('User updated successfully!', 'Success', 'success');\n      this.closeModal();\n    }, error => {\n      this.toast.showToast('Failed to update user. Please try again.', 'Alert', 'warning');\n    });\n  }\n  closeModal() {\n    setTimeout(() => {\n      const modalElement = this.el.nativeElement.querySelector('#editUserModal');\n      this.renderer.removeClass(modalElement, 'show');\n      this.renderer.setStyle(modalElement, 'display', 'none');\n      this.renderer.removeClass(document.body, 'modal-open');\n      const modalBackdrop = document.querySelector('.modal-backdrop');\n      if (modalBackdrop) {\n        modalBackdrop.remove();\n      }\n    }, 500);\n    window.location.href = '/users';\n  }\n};\nEditUserModalComponent = __decorate([Component({\n  selector: 'app-edit-user-modal',\n  templateUrl: './edit-user-modal.component.html',\n  styleUrls: ['./edit-user-modal.component.css']\n})], EditUserModalComponent);\nexport { EditUserModalComponent };","map":{"version":3,"names":["Component","EditUserModalComponent","constructor","route","toast","userService","renderer","el","router","userId","localStorage","getItem","user","name","email","profilePictureUrl","ngOnInit","params","subscribe","console","log","getUserById","updateUser","response","showToast","closeModal","error","setTimeout","modalElement","nativeElement","querySelector","removeClass","setStyle","document","body","modalBackdrop","remove","window","location","href","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\PC\\Desktop\\Angular Demo\\angular\\src\\app\\edit-user-modal\\edit-user-modal.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { UserService } from '../services/user.service';\nimport { ToastService } from '../service/toast.service';\nimport { Renderer2, ElementRef } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-edit-user-modal',\n  templateUrl: './edit-user-modal.component.html',\n  styleUrls: ['./edit-user-modal.component.css']\n})\nexport class EditUserModalComponent implements OnInit {\n  userId: any = localStorage.getItem('selectedUser');\n  user: any = {\n    name: '',\n    email: '',\n    profilePictureUrl: ''\n  };\n\n  constructor(private route: ActivatedRoute,private toast: ToastService, private userService: UserService, private renderer: Renderer2, private el: ElementRef, private router: Router) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const userId = params['id'];\n\n      \n    });\n    this.userId = localStorage.getItem('selectedUser');\n    console.log(\"User id : \", this.user);\n    // Fetch user data by ID when the component initializes\n    this.userService.getUserById(this.userId).subscribe(user => {\n      this.user = user[0];\n      console.log(\"Edit Modal : \", this.user[0])\n    });\n  }\n\n  updateUser() {\n\n    this.userService.updateUser(this.user).subscribe(\n      (response: any) => {\n        this.toast.showToast('User updated successfully!', 'Success', 'success');\n        this.closeModal();\n      },\n      (error: any) => {\n        this.toast.showToast('Failed to update user. Please try again.', 'Alert', 'warning');\n      }\n    );\n  }\n  closeModal() {\n    setTimeout(() => {\n      const modalElement = this.el.nativeElement.querySelector('#editUserModal');\n      this.renderer.removeClass(modalElement, 'show');\n      this.renderer.setStyle(modalElement, 'display', 'none');\n      this.renderer.removeClass(document.body, 'modal-open');\n      const modalBackdrop = document.querySelector('.modal-backdrop');\n      if (modalBackdrop) {\n        modalBackdrop.remove();\n      }\n    }, 500);\n    window.location.href = '/users';\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAuB,eAAe;AAWxD,IAAaC,sBAAsB,GAAnC,MAAaA,sBAAsB;EAQjCC,YAAoBC,KAAqB,EAASC,KAAmB,EAAUC,WAAwB,EAAUC,QAAmB,EAAUC,EAAc,EAAUC,MAAc;IAAhK,KAAAL,KAAK,GAALA,KAAK;IAAyB,KAAAC,KAAK,GAALA,KAAK;IAAwB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,QAAQ,GAARA,QAAQ;IAAqB,KAAAC,EAAE,GAAFA,EAAE;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAP5K,KAAAC,MAAM,GAAQC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClD,KAAAC,IAAI,GAAQ;MACVC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,iBAAiB,EAAE;KACpB;EAEuL;EAExLC,QAAQA,CAAA;IACN,IAAI,CAACb,KAAK,CAACc,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,MAAMR,MAAM,GAAGQ,MAAM,CAAC,IAAI,CAAC;IAG7B,CAAC,CAAC;IACF,IAAI,CAACR,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClDQ,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACR,IAAI,CAAC;IACpC;IACA,IAAI,CAACP,WAAW,CAACgB,WAAW,CAAC,IAAI,CAACZ,MAAM,CAAC,CAACS,SAAS,CAACN,IAAI,IAAG;MACzD,IAAI,CAACA,IAAI,GAAGA,IAAI,CAAC,CAAC,CAAC;MACnBO,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,IAAI,CAACR,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC;EACJ;EAEAU,UAAUA,CAAA;IAER,IAAI,CAACjB,WAAW,CAACiB,UAAU,CAAC,IAAI,CAACV,IAAI,CAAC,CAACM,SAAS,CAC7CK,QAAa,IAAI;MAChB,IAAI,CAACnB,KAAK,CAACoB,SAAS,CAAC,4BAA4B,EAAE,SAAS,EAAE,SAAS,CAAC;MACxE,IAAI,CAACC,UAAU,EAAE;IACnB,CAAC,EACAC,KAAU,IAAI;MACb,IAAI,CAACtB,KAAK,CAACoB,SAAS,CAAC,0CAA0C,EAAE,OAAO,EAAE,SAAS,CAAC;IACtF,CAAC,CACF;EACH;EACAC,UAAUA,CAAA;IACRE,UAAU,CAAC,MAAK;MACd,MAAMC,YAAY,GAAG,IAAI,CAACrB,EAAE,CAACsB,aAAa,CAACC,aAAa,CAAC,gBAAgB,CAAC;MAC1E,IAAI,CAACxB,QAAQ,CAACyB,WAAW,CAACH,YAAY,EAAE,MAAM,CAAC;MAC/C,IAAI,CAACtB,QAAQ,CAAC0B,QAAQ,CAACJ,YAAY,EAAE,SAAS,EAAE,MAAM,CAAC;MACvD,IAAI,CAACtB,QAAQ,CAACyB,WAAW,CAACE,QAAQ,CAACC,IAAI,EAAE,YAAY,CAAC;MACtD,MAAMC,aAAa,GAAGF,QAAQ,CAACH,aAAa,CAAC,iBAAiB,CAAC;MAC/D,IAAIK,aAAa,EAAE;QACjBA,aAAa,CAACC,MAAM,EAAE;;IAE1B,CAAC,EAAE,GAAG,CAAC;IACPC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC;CACD;AAlDYtC,sBAAsB,GAAAuC,UAAA,EALlCxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACW1C,sBAAsB,CAkDlC;SAlDYA,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}